from doctest import debug_script
from snakemake.utils import min_version

min_version("6.0")


module remote_workflow:
    snakefile:
        github("j23414/test_snakemake_6", path="workflow/Snakefile", branch="main")


use rule * from remote_workflow as augur_*


# reuse a rule
use rule test from remote_workflow as with_test with:
    input:
        "b.txt",
    output:
        "c.txt",


# module ncov_workflow:
#     snakefile:
#         github("nextstrain/ncov", path="workflow/snakemake_rules/main_workflow.smk", branch="master")
#     config:
#         github("nextstrain/ncov", path="defaults/parameters.yaml", branch="master")
#
# use rule * from ncov_workflow as ncov_*
#
# use rule index_sequences from ncov_workflow as index_sequences with:
#     input:
#         sequences="test.fasta",
#     output:
#         sequence_index="test_index.tsv.xz"

# Import a simplier workflow


module zika_workflow:
    snakefile:
        github("nextstrain/zika", path="Snakefile", branch="main")


use rule * from zika_workflow as zika_*


use rule files from zika_workflow as files with:
    params:
        input_fasta=github("nextstrain/zika", path="data/zika.fasta", branch="main"),
        dropped_strains=github(
            "nextstrain/zika", path="config/dropped_strains", branch="main"
        ),
        reference=github(
            "nextstrain/zika", path="config/zika_reference.gb", branch="main"
        ),
        colors=github("nextstrain/zika", path="config/colors.tsv", branch="main"),
        auspice_config=github(
            "nextstrain/zika", path="config/auspice_config", branch="main"
        ),
        description=github(
            "nextstrain/zika", path="config/description.md", branch="main"
        ),


# use rule download from zika_workflow with:
#   params:
#     sequences_url = ""
#     metadata_url = ""
